<?xml version="1.0"?>
<project name="cxf wsdl2java" basedir=".">   
	<!-- USER'S DEFINED PATH IS PICKED FROM THIS PROPERTY FILE -->
	<property file="build.properties" />
	<property name="appinfo.src" value="${appinfo.home}/src" />
	<property name="appinfo.classes" value="${appinfo.home}/classes" />
	<property name="client.beans.xml" value="${appinfo.home}/etc/client-beans.xml" />		
	<echo message="Source =>${appinfo.src}" />
	<echo message="Classes =>${appinfo.classes}" />
	<echo message="Client Beans =>${client.beans.xml}" />
	
   <path id="vdsws.classpath">
      <fileset dir="${appinfo.home}/lib">
         <include name="*.jar"/>
      </fileset>
   </path>
	
   <target name="cxfWSDLToJava">
      <java classname="org.apache.cxf.tools.wsdlto.WSDLToJava" fork="true">
         <arg value="-client"/>
         <arg value="-d"/>
         <arg value="${appinfo.src}"/>
         <arg value="${appinfo.home}/ApplicationInfoService.wsdl"/>
         <classpath>
            <path refid="vdsws.classpath"/>
         </classpath>
      </java>
   </target>
	
	<target name="clean">
		<delete dir="${appinfo.classes}" />
	</target>
	
	<target name="compile" depends="clean">
		<mkdir dir="${appinfo.classes}"/>
		<javac classpathref="vdsws.classpath" srcdir="${appinfo.src}"  destdir="${appinfo.classes}" />
	</target>
	
	<target name="client">
		<java classname="com.netpace.aims.ws.appinfo.client.Client" fork="true">
			<classpath>
				<path refid="vdsws.classpath"/>
				<pathelement location="${appinfo.classes}"/>
			</classpath>
			<arg value="${client.beans.xml}" />
			<arg value="Robo Rumble" />
			<!--  
			<arg value="Street Fighter" />
			<arg value="INVALID" />
			<arg value="Snow Bros" />
			-->
		</java>
	</target>
	
</project>
