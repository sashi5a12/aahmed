<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" 
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
             xmlns:activiti="http://activiti.org/bpmn" 
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" 
             xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" 
             xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" 
             typeLanguage="http://www.w3.org/2001/XMLSchema" 
             expressionLanguage="http://www.w3.org/1999/XPath" 
             targetNamespace="http://www.activiti.org/test">
    <process id="VAP_Product_Approval_Process" name="VAP Product Approval Process" isExecutable="true">
        <startEvent id="Start" name="Start"></startEvent>
        
        
        <!-- DeviceMarketingReview Start -->
        <sequenceFlow sourceRef="Start" targetRef="DeviceMarketingReview_ST"></sequenceFlow>
        <serviceTask id="DeviceMarketingReview_ST" name="DeviceMarketingReview_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Marketing Review</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_MARKETING,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>true</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Approve,Deny,RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_REVIEW_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingReview_ST" targetRef="DeviceMarketingReview"></sequenceFlow>
        <userTask id="DeviceMarketingReview" name="DeviceMarketingReview">
            <documentation>
                DeviceMarketingReview
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingReview" targetRef="DeviceMarketingReview_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="DeviceMarketingReview_ExclusiveGateway" name="MR ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- DeviceMarketingDenied -->
        <sequenceFlow sourceRef="DeviceMarketingReview_ExclusiveGateway" targetRef="DeviceMarketingDenied_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Deny"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingDenied_ST" name="DeviceMarketingDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Marketing Review Denied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnDeny</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_REVIEW_DENIED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingDenied_ST" targetRef="DeviceMarketingReviewDenied"></sequenceFlow>
        <userTask id="DeviceMarketingReviewDenied" name="DeviceMarketingReviewDenied">
            <documentation>
                DeviceMarketingReviewDenied
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingReviewDenied" targetRef="DeviceMarketingUnDenied_ST"></sequenceFlow>
        <serviceTask id="DeviceMarketingUnDenied_ST" name="DeviceMarketingUnDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_REVIEW_UNDENY</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingUnDenied_ST" targetRef="DeviceMarketingReview_ST"></sequenceFlow>
        
        
        <!-- DeviceMarketingRFI Flow -->
        <sequenceFlow sourceRef="DeviceMarketingReview_ExclusiveGateway" targetRef="DeviceMarketingRFI_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "RFI"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingRFI_ST" name="DeviceMarketingRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Marketing Review RFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_MARKETING,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_REVIEW_RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingRFI_ST" targetRef="DeviceMarketingReviewRFI"></sequenceFlow>
        <userTask id="DeviceMarketingReviewRFI" name="DeviceMarketingReviewRFI">
            <documentation>
                DeviceMarketingReviewRFI
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingReviewRFI" targetRef="DeviceMarketingReviewUnRFI_ST"></sequenceFlow>
        <serviceTask id="DeviceMarketingReviewUnRFI_ST" name="DeviceMarketingReviewUnRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_REVIEW_UNRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingReviewUnRFI_ST" targetRef="DeviceMarketingReview_ST"></sequenceFlow>
        
        
        <!-- DeviceMarketingApprove -->
        <sequenceFlow sourceRef="DeviceMarketingReview_ExclusiveGateway" targetRef="DeviceMarketingReviewApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Approve"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingReviewApprove_ST" name="DeviceMarketingReviewApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingReviewApprove_ST" targetRef="DeviceMarketingReviewApprove_ExclusiveGateway"></sequenceFlow>
        <!-- DeviceMarketingReview End -->
        

        <!-- DeviceMarketingReviewApprove Start -->
        <exclusiveGateway id="DeviceMarketingReviewApprove_ExclusiveGateway" name="DeviceMarketingReviewApprove_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- DeviceMarketingConceptApproved -->
        <sequenceFlow sourceRef="DeviceMarketingReviewApprove_ExclusiveGateway" targetRef="DeviceMarketingConceptApproved_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${productSubmissionType == "Concept (no physical product available at this time)"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingConceptApproved_ST" name="DeviceMarketingConceptApproved_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingConceptApproved</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Concept Approved</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Change Product Type</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_TYPE_CONCEPT_APPROVED_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingConceptApproved_ST" targetRef="DeviceMarketingConceptApproved"></sequenceFlow>
        <userTask id="DeviceMarketingConceptApproved" name="DeviceMarketingConceptApproved">
            <documentation>
                Device Marketing Concept Approved
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingConceptApproved" targetRef="ProductTypeChanged_ST"></sequenceFlow>
        <serviceTask id="ProductTypeChanged_ST" name="ProductTypeChanged_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingConceptApproved</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_TYPE_CONCEPT_CHANGED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ProductTypeChanged_ST" targetRef="SubmissionTypeProduct_ST"></sequenceFlow>
        
        
        <!-- DeviceMarketingSubmissionTypeProduct -->
        <sequenceFlow sourceRef="DeviceMarketingReviewApprove_ExclusiveGateway" targetRef="SubmissionTypeProduct_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${productSubmissionType == "Product (existing physical product)"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="SubmissionTypeProduct_ST" name="SubmissionTypeProduct_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_REVIEW_APPROVED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="SubmissionTypeProduct_ST" targetRef="DeviceMarketingReviewApprove_ParallelGateway"></sequenceFlow>
        
        
        <!-- DeviceMarketingReviewApprove Parallel Gateway -->
        <parallelGateway id="DeviceMarketingReviewApprove_ParallelGateway" />
        <sequenceFlow sourceRef="DeviceMarketingReviewApprove_ParallelGateway" targetRef="ExportCompliance_ST"></sequenceFlow>
        <sequenceFlow sourceRef="DeviceMarketingReviewApprove_ParallelGateway" targetRef="ProductInfoUpload_ST"></sequenceFlow>
        

        <!-- ExportCompliance Start -->
        <serviceTask id="ExportCompliance_ST" name="ExportCompliance_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportCompliance</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Export Compliance</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_PARTNER_USER,ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>true</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Submit to Verizon</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportCompliance_ST" targetRef="ExportCompliance"></sequenceFlow>
        <userTask id="ExportCompliance" name="ExportCompliance">
            <documentation>
                ExportCompliance
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="ExportCompliance" targetRef="ExportCompliance_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="ExportCompliance_ExclusiveGateway" name="ExportCompliance_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- ExportComplianceApprove Flow -->
        <sequenceFlow sourceRef="ExportCompliance_ExclusiveGateway" targetRef="ExportComplianceApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Submit to Verizon"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="ExportComplianceApprove_ST" name="ExportComplianceApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportCompliance</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_SUBMITTED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceApprove_ST" targetRef="ExportComplianceReview_ST"></sequenceFlow>
        <!-- ExportCompliance End -->
        
        
        <!-- ExportComplianceReview Start -->
        <serviceTask id="ExportComplianceReview_ST" name="ExportComplianceReview_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Export Compliance Review</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_EXPORT_COMPLIANCE,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Approve,Deny,RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_REVIEW_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceReview_ST" targetRef="ExportComplianceReview"></sequenceFlow>
        <userTask id="ExportComplianceReview" name="ExportComplianceReview">
            <documentation>
                ExportComplianceReview
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="ExportComplianceReview" targetRef="ExportComplianceReview_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="ExportComplianceReview_ExclusiveGateway" name="ExportComplianceReview_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- ExportComplianceReviewRFI -->
        <sequenceFlow sourceRef="ExportComplianceReview_ExclusiveGateway" targetRef="ExportComplianceReviewRFI_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "RFI"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="ExportComplianceReviewRFI_ST" name="ExportComplianceReviewRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Export Compliance Review RFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_EXPORT_COMPLIANCE,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_REVIEW_RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceReviewRFI_ST" targetRef="ExportComplianceReviewRFI"></sequenceFlow>
        <userTask id="ExportComplianceReviewRFI" name="ExportComplianceReviewRFI">
            <documentation>
                ExportComplianceReviewRFI
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="ExportComplianceReviewRFI" targetRef="ExportComplianceReviewUnRFI_ST"></sequenceFlow>
        <serviceTask id="ExportComplianceReviewUnRFI_ST" name="ExportComplianceReviewUnRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_REVIEW_UNRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceReviewUnRFI_ST" targetRef="ExportComplianceReview_ST"></sequenceFlow>


        <!-- ExportComplianceReviewDenied -->
        <sequenceFlow sourceRef="ExportComplianceReview_ExclusiveGateway" targetRef="ExportComplianceReviewDenied_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Deny"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="ExportComplianceReviewDenied_ST" name="ExportComplianceReviewDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Export Compliance Review Denied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnDeny</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_REVIEW_DENIED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceReviewDenied_ST" targetRef="ExportComplianceReviewDenied"></sequenceFlow>
        <userTask id="ExportComplianceReviewDenied" name="ExportComplianceReviewDenied">
            <documentation>
                ExportComplianceReviewDenied
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="ExportComplianceReviewDenied" targetRef="ExportComplianceReviewUnDenied_ST"></sequenceFlow>
        <serviceTask id="ExportComplianceReviewUnDenied_ST" name="ExportComplianceReviewUnDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_REVIEW_UNDENY</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceReviewUnDenied_ST" targetRef="ExportComplianceReview_ST"></sequenceFlow>


        <!-- ExportComplianceReviewApprove -->
        <sequenceFlow sourceRef="ExportComplianceReview_ExclusiveGateway" targetRef="ExportComplianceReviewApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Approve"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="ExportComplianceReviewApprove_ST" name="ExportComplianceReviewApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ExportComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_EXPORT_COMPLIANCE_REVIEW_APPROVED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ExportComplianceReviewApprove_ST" targetRef="UploadPDFofSampleProduct_InclusiveGateway"></sequenceFlow>
        <!-- ExportComplianceReview End -->

                
        <!-- ProductInfoUpload Start -->
        <serviceTask id="ProductInfoUpload_ST" name="ProductInfoUpload_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ProductInfoUpload</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Product Info Upload</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_PARTNER_USER,ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>true</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Submit to Verizon</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_INFO_UPLOAD_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ProductInfoUpload_ST" targetRef="ProductInfoUpload"></sequenceFlow>
        <userTask id="ProductInfoUpload" name="ProductInfoUpload">
            <documentation>
                ProductInfoUpload
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="ProductInfoUpload" targetRef="ProductInfoUpload_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="ProductInfoUpload_ExclusiveGateway" name="ProductInfoUpload_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- ProductInfoUploadApprove -->
        <sequenceFlow sourceRef="ProductInfoUpload_ExclusiveGateway" targetRef="ProductInfoUploadApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Submit to Verizon"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="ProductInfoUploadApprove_ST" name="ProductInfoUploadApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>ProductInfoUpload</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_INFO_UPLOAD_SUBMITTED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="ProductInfoUploadApprove_ST" targetRef="RequirementsGroupReview_ST"></sequenceFlow>
        <!-- ProductInfoUpload End -->
        
        
        <!-- RequirementsGroupReview Start -->
        <serviceTask id="RequirementsGroupReview_ST" name="RequirementsGroupReview_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Requirements Group Review</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_REQUIREMENTS_GROUP,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Approve,Deny,RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_REQUIREMENTS_GROUP_REVIEW_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="RequirementsGroupReview_ST" targetRef="RequirementsGroupReview"></sequenceFlow>
        <userTask id="RequirementsGroupReview" name="RequirementsGroupReview">
            <documentation>
                RequirementsGroupReview
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="RequirementsGroupReview" targetRef="RequirementsGroupReview_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="RequirementsGroupReview_ExclusiveGateway" name="RequirementsGroupReview_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- RequirementsGroupReviewRFI -->
        <sequenceFlow sourceRef="RequirementsGroupReview_ExclusiveGateway" targetRef="RequirementsGroupReviewRFI_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "RFI"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="RequirementsGroupReviewRFI_ST" name="RequirementsGroupReviewRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Requirements Group Review RFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_REQUIREMENTS_GROUP,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_REQUIREMENTS_GROUP_REVIEW_RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewRFI_ST" targetRef="RequirementsGroupReviewRFI"></sequenceFlow>
        <userTask id="RequirementsGroupReviewRFI" name="RequirementsGroupReviewRFI">
            <documentation>
                RequirementsGroupReviewRFI
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewRFI" targetRef="RequirementsGroupReviewUnRFI_ST"></sequenceFlow>
        <serviceTask id="RequirementsGroupReviewUnRFI_ST" name="RequirementsGroupReviewUnRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_REQUIREMENTS_GROUP_REVIEW_UNRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewUnRFI_ST" targetRef="RequirementsGroupReview_ST"></sequenceFlow>


        <!-- RequirementsGroupReviewDenied -->
        <sequenceFlow sourceRef="RequirementsGroupReview_ExclusiveGateway" targetRef="RequirementsGroupReviewDenied_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Deny"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="RequirementsGroupReviewDenied_ST" name="RequirementsGroupReviewDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Requirements Group Review Denied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnDeny</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_REQUIREMENTS_GROUP_REVIEW_DENIED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewDenied_ST" targetRef="RequirementsGroupReviewDenied"></sequenceFlow>
        <userTask id="RequirementsGroupReviewDenied" name="RequirementsGroupReviewDenied">
            <documentation>
                RequirementsGroupReviewDenied
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewDenied" targetRef="RequirementsGroupReviewUnDenied_ST"></sequenceFlow>
        <serviceTask id="RequirementsGroupReviewUnDenied_ST" name="RequirementsGroupReviewUnDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_REQUIREMENTS_GROUP_REVIEW_UNDENY</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewUnDenied_ST" targetRef="RequirementsGroupReview_ST"></sequenceFlow>


        <!-- RequirementsGroupReviewApprove -->
        <sequenceFlow sourceRef="RequirementsGroupReview_ExclusiveGateway" targetRef="RequirementsGroupReviewApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Approve"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="RequirementsGroupReviewApprove_ST" name="RequirementsGroupReviewApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>RequirementsGroupReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_REQUIREMENTS_GROUP_REVIEW_APPROVED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="RequirementsGroupReviewApprove_ST" targetRef="DeviceComplianceReview_ST"></sequenceFlow>
        
        
        <!-- DeviceComplianceReview Start -->
        <serviceTask id="DeviceComplianceReview_ST" name="DeviceComplianceReview_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Compliance Review</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_COMPLIANCE,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Start Testing,Deny,RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_REVIEW_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReview_ST" targetRef="DeviceComplianceReview"></sequenceFlow>
        <userTask id="DeviceComplianceReview" name="DeviceComplianceReview">
            <documentation>
                DeviceComplianceReview
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceComplianceReview" targetRef="DeviceComplianceReview_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="DeviceComplianceReview_ExclusiveGateway" name="DeviceComplianceReview_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- DeviceComplianceReviewRFI -->
        <sequenceFlow sourceRef="DeviceComplianceReview_ExclusiveGateway" targetRef="DeviceComplianceReviewRFI_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "RFI"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceComplianceReviewRFI_ST" name="DeviceComplianceReviewRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Compliance Review RFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_COMPLIANCE,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_REVIEW_RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewRFI_ST" targetRef="DeviceComplianceReviewRFI"></sequenceFlow>
        <userTask id="DeviceComplianceReviewRFI" name="DeviceComplianceReviewRFI">
            <documentation>
                DeviceComplianceReviewRFI
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewRFI" targetRef="DeviceComplianceReviewUnRFI_ST"></sequenceFlow>
        <serviceTask id="DeviceComplianceReviewUnRFI_ST" name="DeviceComplianceReviewUnRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_REVIEW_UNRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewUnRFI_ST" targetRef="DeviceComplianceReview_ST"></sequenceFlow>


        <!-- DeviceComplianceReviewDenied -->
        <sequenceFlow sourceRef="DeviceComplianceReview_ExclusiveGateway" targetRef="DeviceComplianceReviewDenied_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Deny"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceComplianceReviewDenied_ST" name="DeviceComplianceReviewDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Compliance Review Denied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnDeny</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_REVIEW_DENIED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewDenied_ST" targetRef="DeviceComplianceReviewDenied"></sequenceFlow>
        <userTask id="DeviceComplianceReviewDenied" name="DeviceComplianceReviewDenied">
            <documentation>
                DeviceComplianceReviewDenied
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewDenied" targetRef="DeviceComplianceReviewUnDenied_ST"></sequenceFlow>
        <serviceTask id="DeviceComplianceReviewUnDenied_ST" name="DeviceComplianceReviewUnDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_REVIEW_UNDENY</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewUnDenied_ST" targetRef="DeviceComplianceReview_ST"></sequenceFlow>


        <!-- DeviceComplianceReviewApprove -->
        <sequenceFlow sourceRef="DeviceComplianceReview_ExclusiveGateway" targetRef="DeviceComplianceReviewApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Start Testing"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceComplianceReviewApprove_ST" name="DeviceComplianceReviewApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_REVIEW_START_TESTING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewApprove_ST" targetRef="DeviceComplianceReviewEOT_ST"></sequenceFlow>
        <!-- DeviceComplianceReview End -->


        <!-- DeviceComplianceReviewEOT Start -->
        <serviceTask id="DeviceComplianceReviewEOT_ST" name="DeviceComplianceReviewEOT_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOT</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Compliance Review EOT</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_COMPLIANCE,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>End Testing,Deny,RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_EOT_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOT_ST" targetRef="DeviceComplianceReviewEOT"></sequenceFlow>
        <userTask id="DeviceComplianceReviewEOT" name="DeviceComplianceReviewEOT">
            <documentation>
                DeviceComplianceReviewEOT
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOT" targetRef="DeviceComplianceReviewEOT_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="DeviceComplianceReviewEOT_ExclusiveGateway" name="DeviceComplianceReviewEOT_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- DeviceComplianceReviewEOTRFI -->
        <sequenceFlow sourceRef="DeviceComplianceReviewEOT_ExclusiveGateway" targetRef="DeviceComplianceReviewEOTRFI_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "RFI"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceComplianceReviewEOTRFI_ST" name="DeviceComplianceReviewEOTRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOT</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOTRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Compliance Review EOT RFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_COMPLIANCE,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_EOT_RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTRFI_ST" targetRef="DeviceComplianceReviewEOTRFI"></sequenceFlow>
        <userTask id="DeviceComplianceReviewEOTRFI" name="DeviceComplianceReviewEOTRFI">
            <documentation>
                DeviceComplianceReviewEOTRFI
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTRFI" targetRef="DeviceComplianceReviewEOTUnRFI_ST"></sequenceFlow>
        <serviceTask id="DeviceComplianceReviewEOTUnRFI_ST" name="DeviceComplianceReviewEOTUnRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOTRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_EOT_UNRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTUnRFI_ST" targetRef="DeviceComplianceReviewEOT_ST"></sequenceFlow>


        <!-- DeviceComplianceReviewEOTDenied -->
        <sequenceFlow sourceRef="DeviceComplianceReviewEOT_ExclusiveGateway" targetRef="DeviceComplianceReviewEOTDenied_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Deny"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceComplianceReviewEOTDenied_ST" name="DeviceComplianceReviewEOTDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOT</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOTDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Compliance Review EOT Denied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnDeny</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_EOT_DENIED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTDenied_ST" targetRef="DeviceComplianceReviewEOTDenied"></sequenceFlow>
        <userTask id="DeviceComplianceReviewEOTDenied" name="DeviceComplianceReviewEOTDenied">
            <documentation>
                DeviceComplianceReviewEOTDenied
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTDenied" targetRef="DeviceComplianceReviewEOTUnDenied_ST"></sequenceFlow>
        <serviceTask id="DeviceComplianceReviewEOTUnDenied_ST" name="DeviceComplianceReviewEOTUnDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOTDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_EOT_UNDENY</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTUnDenied_ST" targetRef="DeviceComplianceReviewEOT_ST"></sequenceFlow>


        <!-- DeviceComplianceReviewEOTApprove -->
        <sequenceFlow sourceRef="DeviceComplianceReviewEOT_ExclusiveGateway" targetRef="DeviceComplianceReviewEOTApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "End Testing"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceComplianceReviewEOTApprove_ST" name="DeviceComplianceReviewEOTApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceComplianceReviewEOT</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_COMPLIANCE_EOT_END_TESTING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceComplianceReviewEOTApprove_ST" targetRef="UploadPDFofSampleProduct_InclusiveGateway"></sequenceFlow>
        <!-- DeviceComplianceReviewEOT End -->
        
        
        <!-- UploadPDFofSampleProduct Parallel Gateway -->
        <parallelGateway id="UploadPDFofSampleProduct_InclusiveGateway" />
        <sequenceFlow sourceRef="UploadPDFofSampleProduct_InclusiveGateway" targetRef="UploadPDFofSampleProduct_ST"></sequenceFlow>
        
        
        <!-- UploadPDFofSampleProduct Start -->
        <serviceTask id="UploadPDFofSampleProduct_ST" name="UploadPDFofSampleProduct_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>UploadPDFofSampleProduct</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Upload PDF of Sample Product</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_PARTNER_USER,ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>true</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Submit to Verizon</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_UPLOAD_PDF_OF_SAMPLE_PRODUCT_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="UploadPDFofSampleProduct_ST" targetRef="UploadPDFofSampleProduct"></sequenceFlow>
        <userTask id="UploadPDFofSampleProduct" name="UploadPDFofSampleProduct">
            <documentation>
                UploadPDFofSampleProduct
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="UploadPDFofSampleProduct" targetRef="UploadPDFofSampleProduct_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="UploadPDFofSampleProduct_ExclusiveGateway" name="UploadPDFofSampleProduct_ExclusiveGateway"/>


        <!-- UploadPDFofSampleProductApprove Flow -->
        <sequenceFlow sourceRef="UploadPDFofSampleProduct_ExclusiveGateway" targetRef="UploadPDFofSampleProductApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Submit to Verizon"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="UploadPDFofSampleProductApprove_ST" name="UploadPDFofSampleProductApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>UploadPDFofSampleProduct</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_UPLOAD_PDF_OF_SAMPLE_PRODUCT_SUBMITTED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="UploadPDFofSampleProductApprove_ST" targetRef="DeviceMarketingFinalReview_ST"></sequenceFlow>
        <!-- UploadPDFofSampleProduct End -->


        <!-- DeviceMarketingFinalReview Start -->
        <serviceTask id="DeviceMarketingFinalReview_ST" name="DeviceMarketingFinalReview_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Marketing Final Review</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_MARKETING,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>Approve,Deny,RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_FINAL_REVIEW_PENDING</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReview_ST" targetRef="DeviceMarketingFinalReview"></sequenceFlow>
        <userTask id="DeviceMarketingFinalReview" name="DeviceMarketingFinalReview">
            <documentation>
                DeviceMarketingFinalReview
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReview" targetRef="DeviceMarketingFinalReview_ExclusiveGateway"></sequenceFlow>
        <exclusiveGateway id="DeviceMarketingFinalReview_ExclusiveGateway" name="DeviceMarketingFinalReview_ExclusiveGateway"></exclusiveGateway>
        
        
        <!-- DeviceMarketingFinalReviewRFI -->
        <sequenceFlow sourceRef="DeviceMarketingFinalReview_ExclusiveGateway" targetRef="DeviceMarketingFinalReviewRFI_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "RFI"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingFinalReviewRFI_ST" name="DeviceMarketingFinalReviewRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Marketing Final Review RFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_DEVICE_MARKETING,ROLE_SUPER_ADMIN,ROLE_VERIZON_SYSTEM_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_FINAL_REVIEW_RFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewRFI_ST" targetRef="DeviceMarketingFinalReviewRFI"></sequenceFlow>
        <userTask id="DeviceMarketingFinalReviewRFI" name="DeviceMarketingFinalReviewRFI">
            <documentation>
                DeviceMarketingFinalReviewRFI
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewRFI" targetRef="DeviceMarketingFinalReviewUnRFI_ST"></sequenceFlow>
        <serviceTask id="DeviceMarketingFinalReviewUnRFI_ST" name="DeviceMarketingFinalReviewUnRFI_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReviewRFI</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_FINAL_REVIEW_UNRFI</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewUnRFI_ST" targetRef="DeviceMarketingFinalReview_ST"></sequenceFlow>


        <!-- DeviceMarketingFinalReviewDenied -->
        <sequenceFlow sourceRef="DeviceMarketingFinalReview_ExclusiveGateway" targetRef="DeviceMarketingFinalReviewDenied_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Deny"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingFinalReviewDenied_ST" name="DeviceMarketingFinalReviewDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="title">
                        <activiti:string>Device Marketing Final Review Denied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>InProgress</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string>UnDeny</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_FINAL_REVIEW_DENIED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewDenied_ST" targetRef="DeviceMarketingFinalReviewDenied"></sequenceFlow>
        <userTask id="DeviceMarketingFinalReviewDenied" name="DeviceMarketingFinalReviewDenied">
            <documentation>
                DeviceMarketingFinalReviewDenied
            </documentation>
        </userTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewDenied" targetRef="DeviceMarketingFinalReviewUnDenied_ST"></sequenceFlow>
        <serviceTask id="DeviceMarketingFinalReviewUnDenied_ST" name="DeviceMarketingFinalReviewUnDenied_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReviewDenied</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_FINAL_REVIEW_UNDENY</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewUnDenied_ST" targetRef="DeviceMarketingFinalReview_ST"></sequenceFlow>


        <!-- DeviceMarketingFinalReviewApprove -->
        <sequenceFlow sourceRef="DeviceMarketingFinalReview_ExclusiveGateway" targetRef="DeviceMarketingFinalReviewApprove_ST">
            <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == "Approve"}]]>
            </conditionExpression>
        </sequenceFlow>
        <serviceTask id="DeviceMarketingFinalReviewApprove_ST" name="DeviceMarketingFinalReviewApprove_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.UpdateWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>DeviceMarketingFinalReview</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_DEVICE_MARKETING_FINAL_REVIEW_APPROVED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="DeviceMarketingFinalReviewApprove_ST" targetRef="Approved_ST"></sequenceFlow>
        <!-- DeviceMarketingFinalReview End -->
        
        
        <serviceTask id="Approved_ST" name="Approved_ST" activiti:delegateExpression="${companyApprovalHandler}">
            <extensionElements>
                <activiti:executionListener event="start" class="com.netpace.device.listener.AddWorkitemListener">
                    <activiti:field name="step">
                        <activiti:string>Approved</activiti:string>
                    </activiti:field>
                    <activiti:field name="status">
                        <activiti:string>Processed</activiti:string>
                    </activiti:field>
                    <activiti:field name="allowedRoles">
                        <activiti:string>ROLE_SUPER_ADMIN</activiti:string>
                    </activiti:field>
                    <activiti:field name="requireInput">
                        <activiti:string>false</activiti:string>
                    </activiti:field>
                    <activiti:field name="nextActions">
                        <activiti:string> </activiti:string>
                    </activiti:field>
                </activiti:executionListener>
                <activiti:executionListener event="start" class="com.netpace.device.listener.SendNotificationListener">
                    <activiti:field name="event">
                        <activiti:string>PRODUCT_APPROVED</activiti:string>
                    </activiti:field>
                </activiti:executionListener>      
            </extensionElements>
        </serviceTask>
        <sequenceFlow sourceRef="Approved_ST" targetRef="End"></sequenceFlow>
        <endEvent id="End" name="End"></endEvent>
        
    </process>
  
</definitions>