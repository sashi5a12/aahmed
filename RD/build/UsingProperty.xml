<?xml version="1.0" encoding="UTF-8"?>
<project default="all">
	<property name="obj-dir" location="obj"></property>
	<property name="lib-dir" location="lib"></property>
	<property name="src-dir" location="./../src/test/ant"></property>
	
	<target name="init">
		<mkdir dir="${obj-dir}"/>
		<mkdir dir="${lib-dir}"/>
	</target>
	
	<target name="clean-init">
		<delete dir="${obj-dir}"/>
		<delete dir="${lib-dir}"/>
	</target>
	
	<target name="compile" depends="clean, init">
		<javac srcdir="${src-dir}" destdir="${obj-dir}"/>
	</target>
	
	<target name="clean-compile">
		<delete>
			<fileset dir="${obj-dir}" includes="**/*.class"/>
		</delete>
	</target>
	
	<target name="jar" depends="compile">
		<jar basedir="${obj-dir}" destfile="${lib-dir}/hello.jar"/>
	</target>
	
	<target name="clean-jar">
		<delete file="${lib-dir}/*.jar"/>
	</target>
	
	<target name="run" depends="jar">
		<java classname="test.ant.HelloWorld" classpath="${lib-dir}/hello.jar"/>
	</target>
	
	
	<target name="clean" depends="clean-init"></target>
	<target name="all" depends="run"></target>
</project>